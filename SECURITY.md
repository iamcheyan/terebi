# ğŸ”’ å®‰å…¨è¯´æ˜ / Security Guide

## Firebase é…ç½®å®‰å…¨

æœ¬é¡¹ç›®ä½¿ç”¨ Firebase ä½œä¸ºåç«¯æœåŠ¡ã€‚å¦‚æœä½ æƒ³éƒ¨ç½²è‡ªå·±çš„ç‰ˆæœ¬ï¼Œè¯·æ³¨æ„ä»¥ä¸‹å®‰å…¨äº‹é¡¹ï¼š

### âš ï¸ é‡è¦è­¦å‘Š

ä»£ç ä¸­çš„ Firebase é…ç½®æ˜¯**å…¬å¼€çš„**ï¼Œä½†è¿™æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºï¼š

1. **æˆæƒåŸŸåé™åˆ¶**ï¼šåªæœ‰åœ¨ Firebase æ§åˆ¶å°ä¸­æˆæƒçš„åŸŸåæ‰èƒ½ä½¿ç”¨ç™»å½•åŠŸèƒ½
2. **Security Rules**ï¼šFirestore å®‰å…¨è§„åˆ™é™åˆ¶äº†æ•°æ®è®¿é—®æƒé™
3. **API Key ç‰¹æ€§**ï¼šFirebase çš„ API Key è®¾è®¡å°±æ˜¯å…¬å¼€çš„ï¼Œä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰çš„å¯†é’¥

### ğŸ›¡ï¸ ä¿æŠ¤æªæ–½

#### 1. æˆæƒåŸŸåè®¾ç½®

åœ¨ Firebase Console ä¸­ï¼š
```
Authentication â†’ Settings â†’ Authorized domains
```

åªæ·»åŠ ä½ è‡ªå·±çš„åŸŸåï¼š
- âœ… `localhost`ï¼ˆå¼€å‘ç”¨ï¼‰
- âœ… `yourdomain.com`ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- âŒ ä¸è¦æ·»åŠ ä¸ä¿¡ä»»çš„åŸŸå

#### 2. Firestore å®‰å…¨è§„åˆ™

ç¡®ä¿åœ¨ Firestore Database â†’ Rules ä¸­è®¾ç½®ï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®
    match /users/{userId} {
      allow read, write: if request.auth != null 
                        && request.auth.uid == userId;
    }
  }
}
```

#### 3. ä½¿ç”¨é…é¢é™åˆ¶

åœ¨ Firebase Console â†’ Usage and billingï¼š
- è®¾ç½®é¢„ç®—æé†’
- è®¾ç½®ä½¿ç”¨é™åˆ¶
- ç›‘æ§å¼‚å¸¸æµé‡

### ğŸš€ éƒ¨ç½²è‡ªå·±çš„ç‰ˆæœ¬

å¦‚æœä½ æƒ³éƒ¨ç½²è‡ªå·±çš„ç‰ˆæœ¬ï¼š

#### æ­¥éª¤ 1ï¼šåˆ›å»ºè‡ªå·±çš„ Firebase é¡¹ç›®

1. è®¿é—® https://console.firebase.google.com/
2. ç‚¹å‡»"åˆ›å»ºé¡¹ç›®"
3. å¯ç”¨ Authenticationï¼ˆGoogle ç™»å½•ï¼‰
4. å¯ç”¨ Firestore Database

#### æ­¥éª¤ 2ï¼šè·å–é…ç½®

1. è¿›å…¥é¡¹ç›®è®¾ç½® â†’ å¸¸è§„
2. å‘ä¸‹æ»šåŠ¨åˆ°"ä½ çš„åº”ç”¨"
3. ç‚¹å‡» Web åº”ç”¨å›¾æ ‡
4. å¤åˆ¶ Firebase é…ç½®å¯¹è±¡

#### æ­¥éª¤ 3ï¼šæ›¿æ¢é…ç½®

åœ¨ `index.html` ä¸­æ‰¾åˆ°ï¼š

```javascript
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  // ... æ›¿æ¢ä¸ºä½ è‡ªå·±çš„é…ç½®
};
```

#### æ­¥éª¤ 4ï¼šè®¾ç½®æˆæƒåŸŸå

åœ¨ Firebase Console ä¸­æ·»åŠ ä½ çš„åŸŸåï¼š
```
Authentication â†’ Settings â†’ Authorized domains â†’ Add domain
```

#### æ­¥éª¤ 5ï¼šè®¾ç½®å®‰å…¨è§„åˆ™

å¤åˆ¶ä¸Šé¢çš„ Firestore Security Rules åˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚

### ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

å®šæœŸæ£€æŸ¥ï¼š
- ä½¿ç”¨é‡ç»Ÿè®¡
- æ´»è·ƒç”¨æˆ·æ•°
- æ•°æ®åº“å¤§å°
- å¼‚å¸¸ç™»å½•æ´»åŠ¨

### â“ å¸¸è§é—®é¢˜

**Q: API Key æ³„éœ²äº†æ€ä¹ˆåŠï¼Ÿ**  
A: Firebase çš„ API Key è®¾è®¡å°±æ˜¯å…¬å¼€çš„ï¼ŒçœŸæ­£çš„å®‰å…¨ç”±æˆæƒåŸŸåå’Œ Security Rules æ§åˆ¶ã€‚

**Q: åˆ«äººèƒ½ç”¨æˆ‘çš„é…ç½®å—ï¼Ÿ**  
A: å¦‚æœä»–ä»¬çš„åŸŸåæœªæˆæƒï¼Œç™»å½•ä¼šå¤±è´¥ã€‚å³ä½¿æˆåŠŸç™»å½•ï¼Œä¹Ÿåªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®ã€‚

**Q: å¦‚ä½•é˜²æ­¢é…é¢è¢«æ»¥ç”¨ï¼Ÿ**  
A: è®¾ç½®ä½¿ç”¨é™åˆ¶å’Œé¢„ç®—æé†’ï¼Œç›‘æ§å¼‚å¸¸æµé‡ã€‚

### ğŸ“ æ”¯æŒ

å¦‚æœ‰å®‰å…¨é—®é¢˜ï¼Œè¯·é€šè¿‡ GitHub Issues è”ç³»ã€‚

---

æœ€åæ›´æ–°ï¼š2025-01

